<!doctype html>
<html lang="vi" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developer-guide/data-validation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Data Validation | Nhóm 14 - HHKT</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hhkt-tkpm.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hhkt-tkpm.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hhkt-tkpm.github.io/docs/developer-guide/data-validation"><meta data-rh="true" property="og:locale" content="vi"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="vi"><meta data-rh="true" name="docsearch:language" content="vi"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Data Validation | Nhóm 14 - HHKT"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hhkt-tkpm.github.io/docs/developer-guide/data-validation"><link data-rh="true" rel="alternate" href="https://hhkt-tkpm.github.io/en/docs/developer-guide/data-validation" hreflang="en"><link data-rh="true" rel="alternate" href="https://hhkt-tkpm.github.io/docs/developer-guide/data-validation" hreflang="vi"><link data-rh="true" rel="alternate" href="https://hhkt-tkpm.github.io/docs/developer-guide/data-validation" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer Guide","item":"https://hhkt-tkpm.github.io/docs/category/developer-guide"},{"@type":"ListItem","position":2,"name":"Data Validation","item":"https://hhkt-tkpm.github.io/docs/developer-guide/data-validation"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Nhóm 14 - HHKT RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Nhóm 14 - HHKT Atom Feed"><link rel="stylesheet" href="/assets/css/styles.cf78aa0b.css">
<script src="/assets/js/runtime~main.2ca2ff6f.js" defer="defer"></script>
<script src="/assets/js/main.6f4b5057.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Chuyển tới nội dung chính"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Chuyển tới nội dung chính</a></div><nav aria-label="Thanh điều hướng" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Đóng - mở thanh điều hướng" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="HHKT Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="HHKT Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">HHKT</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Tiếng Việt</a><ul class="dropdown__menu"><li><a href="/en/docs/developer-guide/data-validation" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/developer-guide/data-validation" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="vi">Tiếng Việt</a></li></ul></div><a href="https://github.com/nguyen-anh-hao/HHKT-Ex-TKPM" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Chuyển đổi chế độ sáng và tối (hiện tại là system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Trở lại đầu trang" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Thanh điều hướng tài liệu" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Xem thêm danh mục &#x27;Tutorial - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Xem thêm danh mục &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/developer-guide">Developer Guide</a><button aria-label="Thu gọn danh mục &#x27;Developer Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-guide/overview-of-architecture">Overview of architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-guide/backend-architecture-overview">Backend Architecture Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-guide/inversion-of-control-and-dependency-injection">Inversion of Control and Dependency Injection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/developer-guide/data-validation">Data Validation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-guide/database-schema">Student Management System Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-guide/unit-testing">Testing Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-guide/webapi-documentation">📚 API Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-guide/updating-existing-entity">Updating Existing Entities - Adding New Properties</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Liên kết điều hướng"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Trang chủ" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/developer-guide"><span>Developer Guide</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Data Validation</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Trên trang này</button></div><div class="theme-doc-markdown markdown"><header><h1>Data Validation</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Đường dẫn trực tiếp đến Introduction" title="Đường dẫn trực tiếp đến Introduction">​</a></h2>
<p>Data validation is a critical aspect of the Student Management System that ensures data integrity, security, and business rule compliance. This document covers the comprehensive validation strategy implemented using Jakarta Bean Validation (formerly JSR-303) and custom validation logic.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="validation-architecture">Validation Architecture<a href="#validation-architecture" class="hash-link" aria-label="Đường dẫn trực tiếp đến Validation Architecture" title="Đường dẫn trực tiếp đến Validation Architecture">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-layer-validation-strategy">Multi-Layer Validation Strategy<a href="#multi-layer-validation-strategy" class="hash-link" aria-label="Đường dẫn trực tiếp đến Multi-Layer Validation Strategy" title="Đường dẫn trực tiếp đến Multi-Layer Validation Strategy">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│        Client-Side Validation       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│         (Frontend - Optional)       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       Controller Validation         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      (Request DTO Validation)       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│        Service Validation           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│     (Business Logic Validation)     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────────────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       Database Validation           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│      (Constraints &amp; Triggers)       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validation-flow-diagram">Validation Flow Diagram<a href="#validation-flow-diagram" class="hash-link" aria-label="Đường dẫn trực tiếp đến Validation Flow Diagram" title="Đường dẫn trực tiếp đến Validation Flow Diagram">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[DIAGRAM_PLACEHOLDER_VALIDATION_FLOW]</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="jakarta-bean-validation">Jakarta Bean Validation<a href="#jakarta-bean-validation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Jakarta Bean Validation" title="Đường dẫn trực tiếp đến Jakarta Bean Validation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-validation-annotations">Core Validation Annotations<a href="#core-validation-annotations" class="hash-link" aria-label="Đường dẫn trực tiếp đến Core Validation Annotations" title="Đường dẫn trực tiếp đến Core Validation Annotations">​</a></h3>
<table><thead><tr><th>Annotation</th><th>Purpose</th><th>Usage</th></tr></thead><tbody><tr><td><code>@NotNull</code></td><td>Null check</td><td>Required fields</td></tr><tr><td><code>@NotBlank</code></td><td>Null, empty, whitespace check</td><td>String fields</td></tr><tr><td><code>@NotEmpty</code></td><td>Null and empty check</td><td>Collections, arrays</td></tr><tr><td><code>@Size</code></td><td>Length constraints</td><td>Strings, collections</td></tr><tr><td><code>@Min/@Max</code></td><td>Numeric range validation</td><td>Numbers</td></tr><tr><td><code>@Email</code></td><td>Email format validation</td><td>Email fields</td></tr><tr><td><code>@Pattern</code></td><td>Regex pattern matching</td><td>Custom formats</td></tr><tr><td><code>@Valid</code></td><td>Nested object validation</td><td>Complex objects</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-dto-validation">Request DTO Validation<a href="#request-dto-validation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Request DTO Validation" title="Đường dẫn trực tiếp đến Request DTO Validation">​</a></h3>
<p><strong>Example from ProgramRequest:</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Getter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Setter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ProgramRequest {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotBlank(message = &quot;Program name is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String programName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Extended Example for Student Registration:</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class StudentRequest {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotNull(message = &quot;Student id is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String studentId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotBlank(message = &quot;Full name is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String fullName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotNull(message = &quot;Date of birth is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private LocalDate dob;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotBlank(message = &quot;Gender is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String gender;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotBlank(message = &quot;Intake is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String intake;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotBlank(message = &quot;Email is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Email(message = &quot;Email should be valid&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @EmailDomain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String email;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotBlank(message = &quot;Phone country is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String phoneCountry;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotBlank(message = &quot;Phone number is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String phone;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotBlank(message = &quot;Nationality is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String nationality;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotNull(message = &quot;Faculty id is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer facultyId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotNull(message = &quot;Program id is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer programId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotNull(message = &quot;Student status id is required&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer studentStatusId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;AddressRequest&gt; addresses;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;DocumentRequest&gt; documents;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="controller-level-validation">Controller-Level Validation<a href="#controller-level-validation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Controller-Level Validation" title="Đường dẫn trực tiếp đến Controller-Level Validation">​</a></h3>
<p><strong>Implementation in ProgramController:</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@PostMapping(&quot;&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public APIResponse addProgram(@RequestBody @Valid ProgramRequest request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;Received request to add program: {}&quot;, request.getProgramName());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ProgramResponse program = programService.addProgram(request);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return APIResponse.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .status(HttpStatus.CREATED.value())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .message(&quot;Success&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .data(program)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>Key Points:</strong></p>
<ul>
<li><code>@Valid</code> annotation triggers validation</li>
<li>Validation occurs before method execution</li>
<li>Automatic error response generation for validation failures</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-validation">Custom Validation<a href="#custom-validation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Custom Validation" title="Đường dẫn trực tiếp đến Custom Validation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-annotation-creation">Custom Annotation Creation<a href="#custom-annotation-creation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Custom Annotation Creation" title="Đường dẫn trực tiếp đến Custom Annotation Creation">​</a></h3>
<p><strong>EmailDomain Annotation:</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Constraint(validatedBy = EmailDomainValidator.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Target({ElementType.FIELD, ElementType.PARAMETER})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Retention(RetentionPolicy.RUNTIME)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public @interface EmailDomain {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String message() default &quot;Invalid email domain&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Class&lt;?&gt;[] groups() default {};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Class&lt;? extends Payload&gt;[] payload() default {};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-validator-implementation">Custom Validator Implementation<a href="#custom-validator-implementation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Custom Validator Implementation" title="Đường dẫn trực tiếp đến Custom Validator Implementation">​</a></h3>
<p><strong>EmailDomainValidator:</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class EmailDomainValidator implements ConstraintValidator&lt;EmailDomain, String&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final IEmailDomainRepository emailDomainRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Autowired</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public EmailDomainValidator(IEmailDomainRepository emailDomainRepository) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.emailDomainRepository = emailDomainRepository;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean isValid(String email, ConstraintValidatorContext context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (email == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return true; // Let @NotNull handle null validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String domain = email.substring(email.indexOf(&#x27;@&#x27;) + 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;org.example.backend.domain.EmailDomain&gt; allowedDomains = </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emailDomainRepository.findAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return allowedDomains.stream()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .anyMatch(allowedDomain -&gt; domain.equals(allowedDomain.getDomain()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-in-request-dtos">Usage in Request DTOs<a href="#usage-in-request-dtos" class="hash-link" aria-label="Đường dẫn trực tiếp đến Usage in Request DTOs" title="Đường dẫn trực tiếp đến Usage in Request DTOs">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[CODE_PLACEHOLDER_CUSTOM_VALIDATION_USAGE]</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-layer-validation">Service Layer Validation<a href="#service-layer-validation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Service Layer Validation" title="Đường dẫn trực tiếp đến Service Layer Validation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="business-logic-validation">Business Logic Validation<a href="#business-logic-validation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Business Logic Validation" title="Đường dẫn trực tiếp đến Business Logic Validation">​</a></h3>
<p><strong>Example from ProgramServiceImpl:</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public ProgramResponse addProgram(ProgramRequest request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Business rule validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (programRepository.findByProgramName(request.getProgramName()).isPresent()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log.error(&quot;Program already exists&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new RuntimeException(&quot;Program already exists&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Program program = ProgramMapper.mapToDomain(request);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    program = programRepository.save(program);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;Program saved to database successfully&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return ProgramMapper.mapToResponse(program);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="complex-business-validation">Complex Business Validation<a href="#complex-business-validation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Complex Business Validation" title="Đường dẫn trực tiếp đến Complex Business Validation">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Transactional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public ClassRegistrationResponse addClassRegistration(ClassRegistrationRequest classRegistrationRequest) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;add class registration with request: {}&quot;, classRegistrationRequest);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ClassRegistration classRegistration = ClassRegistrationMapper.mapFromClassRegistrationRequestToDomain(classRegistrationRequest);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;check if class exists&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Class aClass = classRepository.findById(classRegistrationRequest.getClassId())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .orElseThrow(() -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                log.error(&quot;Class not found&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return new RuntimeException(&quot;Class not found&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;check if the course of the class is active&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!aClass.getCourse().getIsActive()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log.error(&quot;Course of the class is not active&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new RuntimeException(&quot;Course of the class is not active&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;check if max students reached&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (aClass.getClassRegistrations().size() &gt;= aClass.getMaxStudents()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log.error(&quot;Max students reached&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        throw new RuntimeException(&quot;Max students reached&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;check if student exists&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student student = studentRepository.findById(classRegistrationRequest.getStudentId())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .orElseThrow(() -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                log.error(&quot;Student not found&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return new RuntimeException(&quot;Student not found&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;set class and student&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    classRegistration.setAClass(aClass);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    classRegistration.setStudent(student);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    classRegistration = classRegistrationRepository.save(classRegistration);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;class registration created successfully&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Add the registration history</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;Add class registration history&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ClassRegistrationHistoryRequest classRegistrationHistoryRequest = ClassRegistrationHistoryMapper.mapFromClassRegistrationDomainToClassRegistrationHistoryRequest(classRegistration);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    classRegistrationHistoryRequest.setReason(&quot;Class registration created&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    classRegistrationHistoryService.addClassRegistrationHistory(classRegistrationHistoryRequest);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log.info(&quot;class registration history added successfully&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return ClassRegistrationMapper.mapFromDomainToClassRegistrationResponse(classRegistration);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="error-handling-and-response">Error Handling and Response<a href="#error-handling-and-response" class="hash-link" aria-label="Đường dẫn trực tiếp đến Error Handling and Response" title="Đường dẫn trực tiếp đến Error Handling and Response">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validation-error-structure">Validation Error Structure<a href="#validation-error-structure" class="hash-link" aria-label="Đường dẫn trực tiếp đến Validation Error Structure" title="Đường dẫn trực tiếp đến Validation Error Structure">​</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Validation failed&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;errors&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;programName&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Program name is required&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;rejectedValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-level-validation">Database-Level Validation<a href="#database-level-validation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Database-Level Validation" title="Đường dẫn trực tiếp đến Database-Level Validation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entity-constraints">Entity Constraints<a href="#entity-constraints" class="hash-link" aria-label="Đường dẫn trực tiếp đến Entity Constraints" title="Đường dẫn trực tiếp đến Entity Constraints">​</a></h3>
<p><strong>Program Entity with Constraints:</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Table(name = &quot;programs&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Program extends Auditable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GeneratedValue(strategy = GenerationType.IDENTITY)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Column(name = &quot;program_name&quot;, nullable = false, unique = true, length = 100)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String programName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Additional constraints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database-migration-constraints">Database Migration Constraints<a href="#database-migration-constraints" class="hash-link" aria-label="Đường dẫn trực tiếp đến Database Migration Constraints" title="Đường dẫn trực tiếp đến Database Migration Constraints">​</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> addresses</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ADD</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CONSTRAINT</span><span class="token plain"> addresses_address_type_check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CHECK</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">address_type </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Thường Trú&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Tạm Trú&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Nhận Thư&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="validation-patterns-by-entity">Validation Patterns by Entity<a href="#validation-patterns-by-entity" class="hash-link" aria-label="Đường dẫn trực tiếp đến Validation Patterns by Entity" title="Đường dẫn trực tiếp đến Validation Patterns by Entity">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="student-validation">Student Validation<a href="#student-validation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Student Validation" title="Đường dẫn trực tiếp đến Student Validation">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Student extends Auditable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Column(name = &quot;student_id&quot;, length = 10)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String studentId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Column(name = &quot;full_name&quot;, nullable = false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String fullName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Column(name = &quot;dob&quot;, nullable = false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private LocalDate dob;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Column(name = &quot;gender&quot;, nullable = false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String gender;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Additional fields with validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="registration-validation">Registration Validation<a href="#registration-validation" class="hash-link" aria-label="Đường dẫn trực tiếp đến Registration Validation" title="Đường dẫn trực tiếp đến Registration Validation">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ClassRegistration extends Auditable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GeneratedValue(strategy = GenerationType.IDENTITY)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Integer id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Column(name = &quot;status&quot;, nullable = false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Enumerated(EnumType.STRING)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private RegistrationStatus status;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-validation-logic">Testing Validation Logic<a href="#testing-validation-logic" class="hash-link" aria-label="Đường dẫn trực tiếp đến Testing Validation Logic" title="Đường dẫn trực tiếp đến Testing Validation Logic">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unit-testing-validators">Unit Testing Validators<a href="#unit-testing-validators" class="hash-link" aria-label="Đường dẫn trực tiếp đến Unit Testing Validators" title="Đường dẫn trực tiếp đến Unit Testing Validators">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ExtendWith(MockitoExtension.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class EmailDomainValidatorTest {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void shouldReturnFalseWhenDomainIsNotAllowed() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;EmailDomain&gt; allowedDomains = Arrays.asList(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                createEmailDomain(&quot;gmail.com&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                createEmailDomain(&quot;yahoo.com&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                createEmailDomain(&quot;hotmail.com&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        when(emailDomainRepository.findAll()).thenReturn(allowedDomains);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        assertFalse(validator.isValid(&quot;test@outlook.com&quot;, context));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        assertFalse(validator.isValid(&quot;user@example.com&quot;, context));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="controller-testing-with-invalid-data">Controller Testing with Invalid Data<a href="#controller-testing-with-invalid-data" class="hash-link" aria-label="Đường dẫn trực tiếp đến Controller Testing with Invalid Data" title="Đường dẫn trực tiếp đến Controller Testing with Invalid Data">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void givenProgramIdNotFound_whenGetProgramById_shouldThrowException() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    when(programRepository.findById(1)).thenReturn(Optional.empty());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RuntimeException exception = assertThrows(RuntimeException.class, () -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        programService.getProgramById(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    assertThat(exception.getMessage()).isEqualTo(&quot;Program not found&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-and-upgrade-path">Migration and Upgrade Path<a href="#migration-and-upgrade-path" class="hash-link" aria-label="Đường dẫn trực tiếp đến Migration and Upgrade Path" title="Đường dẫn trực tiếp đến Migration and Upgrade Path">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jakarta-migration-jsr-303-to-jakarta">Jakarta Migration (JSR-303 to Jakarta)<a href="#jakarta-migration-jsr-303-to-jakarta" class="hash-link" aria-label="Đường dẫn trực tiếp đến Jakarta Migration (JSR-303 to Jakarta)" title="Đường dẫn trực tiếp đến Jakarta Migration (JSR-303 to Jakarta)">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Old (JSR-303)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import javax.validation.constraints.NotBlank;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// New (Jakarta)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import jakarta.validation.constraints.NotBlank;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="validation-framework-updates">Validation Framework Updates<a href="#validation-framework-updates" class="hash-link" aria-label="Đường dẫn trực tiếp đến Validation Framework Updates" title="Đường dẫn trực tiếp đến Validation Framework Updates">​</a></h3>
<ul>
<li>Bean Validation specification changes</li>
<li>Custom validator compatibility</li>
<li>Message interpolation updates</li>
<li>Performance improvements</li>
</ul>
<hr>
<p><em>This comprehensive guide covers all aspects of data validation in the Student Management System. For implementation details and examples, refer to the source code in the respective packages and the accompanying test cases.</em></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/hhkt-tkpm/hhkt-tkpm.github.io/tree/main/docs/developer-guide/data-validation.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Sửa trang này</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Trang tài liệu"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/developer-guide/inversion-of-control-and-dependency-injection"><div class="pagination-nav__sublabel">Trước</div><div class="pagination-nav__label">Inversion of Control and Dependency Injection</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/developer-guide/database-schema"><div class="pagination-nav__sublabel">Kế tiếp</div><div class="pagination-nav__label">Student Management System Database</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#validation-architecture" class="table-of-contents__link toc-highlight">Validation Architecture</a><ul><li><a href="#multi-layer-validation-strategy" class="table-of-contents__link toc-highlight">Multi-Layer Validation Strategy</a></li><li><a href="#validation-flow-diagram" class="table-of-contents__link toc-highlight">Validation Flow Diagram</a></li></ul></li><li><a href="#jakarta-bean-validation" class="table-of-contents__link toc-highlight">Jakarta Bean Validation</a><ul><li><a href="#core-validation-annotations" class="table-of-contents__link toc-highlight">Core Validation Annotations</a></li><li><a href="#request-dto-validation" class="table-of-contents__link toc-highlight">Request DTO Validation</a></li><li><a href="#controller-level-validation" class="table-of-contents__link toc-highlight">Controller-Level Validation</a></li></ul></li><li><a href="#custom-validation" class="table-of-contents__link toc-highlight">Custom Validation</a><ul><li><a href="#custom-annotation-creation" class="table-of-contents__link toc-highlight">Custom Annotation Creation</a></li><li><a href="#custom-validator-implementation" class="table-of-contents__link toc-highlight">Custom Validator Implementation</a></li><li><a href="#usage-in-request-dtos" class="table-of-contents__link toc-highlight">Usage in Request DTOs</a></li></ul></li><li><a href="#service-layer-validation" class="table-of-contents__link toc-highlight">Service Layer Validation</a><ul><li><a href="#business-logic-validation" class="table-of-contents__link toc-highlight">Business Logic Validation</a></li><li><a href="#complex-business-validation" class="table-of-contents__link toc-highlight">Complex Business Validation</a></li></ul></li><li><a href="#error-handling-and-response" class="table-of-contents__link toc-highlight">Error Handling and Response</a><ul><li><a href="#validation-error-structure" class="table-of-contents__link toc-highlight">Validation Error Structure</a></li></ul></li><li><a href="#database-level-validation" class="table-of-contents__link toc-highlight">Database-Level Validation</a><ul><li><a href="#entity-constraints" class="table-of-contents__link toc-highlight">Entity Constraints</a></li><li><a href="#database-migration-constraints" class="table-of-contents__link toc-highlight">Database Migration Constraints</a></li></ul></li><li><a href="#validation-patterns-by-entity" class="table-of-contents__link toc-highlight">Validation Patterns by Entity</a><ul><li><a href="#student-validation" class="table-of-contents__link toc-highlight">Student Validation</a></li><li><a href="#registration-validation" class="table-of-contents__link toc-highlight">Registration Validation</a></li></ul></li><li><a href="#testing-validation-logic" class="table-of-contents__link toc-highlight">Testing Validation Logic</a><ul><li><a href="#unit-testing-validators" class="table-of-contents__link toc-highlight">Unit Testing Validators</a></li><li><a href="#controller-testing-with-invalid-data" class="table-of-contents__link toc-highlight">Controller Testing with Invalid Data</a></li></ul></li><li><a href="#migration-and-upgrade-path" class="table-of-contents__link toc-highlight">Migration and Upgrade Path</a><ul><li><a href="#jakarta-migration-jsr-303-to-jakarta" class="table-of-contents__link toc-highlight">Jakarta Migration (JSR-303 to Jakarta)</a></li><li><a href="#validation-framework-updates" class="table-of-contents__link toc-highlight">Validation Framework Updates</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/nguyen-anh-hao/HHKT-Ex-TKPM" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 HHKT, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>